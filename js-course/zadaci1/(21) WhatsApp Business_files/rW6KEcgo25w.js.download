;/*FB_PKG_DELIM*/

__d("WAWebBizLinkedCatalogErrorPopup.react",["fbt","WAWebConfirmPopup.react","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a,b,c){var e;b?(b=h._(/*BTDS*/"Connected catalogs aren't supported on WhatsApp Web yet. You can view this catalog with a WhatsApp mobile app."),a?e=h._(/*BTDS*/"Item can't be displayed"):e=h._(/*BTDS*/"Catalog can't be displayed")):a?(e=h._(/*BTDS*/"Item can't be displayed on web"),b=h._(/*BTDS*/"To view items in this business's catalog, use WhatsApp on your mobile device.")):(e=h._(/*BTDS*/"Catalog can't be viewed on web"),b=h._(/*BTDS*/"To view this business's catalog, use WhatsApp on your mobile device."));c&&d("WAWebModalManager").ModalManager.once("close_modal",c);d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:e,onOK:function(){d("WAWebModalManager").ModalManager.close()},children:b}))}g.showConnectedCatalogDisabledPopup=a}),226);
__d("WAWebOrderDetailTextComposer",["WAWebConstantsDeprecated","WAWebRichTextField.react","WAWebRound.react","WAWebUISpacing","WAWebVelocityTransitionGroup","WAWebWdsIcSendFilledIcon.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={btnSend:{bottom:"x1oddz9l",color:"xhslqc4",opacity:"xg01cxk",position:"x10l6tqk",right:"xk6ci0l",textAlign:"x2b8uid",$$css:!0},textFieldContainer:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",width:"xh8yej3",zIndex:"x11uqc5h",$$css:!0}};function a(a){var b=a.buttonTitle;a.chat;var e=a.disabled,f=a.onChange,g=a.onSubmit,h=a.placeholder,l=a.testid;l=a.textFieldTestId;l=a.value;return j.jsxs(j.Fragment,{children:[j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"media-caption",xstyle:[k.textFieldContainer,d("WAWebUISpacing").uiMargin.bottom40],children:j.jsx("div",{children:j.jsx(d("WAWebRichTextField.react").RichTextField,{maxLength:c("WAWebConstantsDeprecated").MAX_CART_MESSAGE_LENGTH,placeholder:h,value:l,testid:void 0,multiline:!0,showRemaining:!0,spellCheck:!0,emojiBtnPosition:"side",textFormatEnabled:!0,onEnter:function(){e!==!0&&g()},onChange:function(a){return f(a.text)}})})}),j.jsx(c("WAWebVelocityTransitionGroup"),{appear:!0,transitionName:"btn",children:j.jsx("button",babelHelpers["extends"]({disabled:e,"data-testid":void 0},(i||(i=c("stylex"))).props([k.btnSend,d("WAWebUISpacing").uiMargin.all0,d("WAWebUISpacing").uiPadding.all0]),{tabIndex:-1,onClick:function(){return g()},title:b,children:j.jsx(d("WAWebRound.react").Round,{disabled:e,children:j.jsx(d("WAWebWdsIcSendFilledIcon.react").WdsIcSendFilledIcon,{width:18,directional:!0})})}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderProductListItem.react",["fbt","WAWebCellFrame.react","WAWebCurrencyUtils","WAWebEmojiText.react","WAWebFlex.react","WAWebOrderItemGetters","WAWebProductCatalogProductThumb.react","WAWebText_DONOTUSE.react","WAWebUISpacing","isNonZeroNumber","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react");function a(a){var b,e=a.onClick;a=a.product;var f=k.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.name,ellipsify:!0,titlify:!0}),g=k.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{mediaData:d("WAWebOrderItemGetters").getMediaData(a),theme:"list"}),i=h._(/*BTDS*/"Quantity {item-quantity}",[h._param("item-quantity",a.quantity)]),l=null;a.quantity&&(l=k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),children:i}));i=null;d("isNonZeroNumber").isNonZeroNumber(a.price)&&(i=k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),children:d("WAWebCurrencyUtils").formatAmount1000(a.currency,a.price)}));var m=null;i!=null&&(m=k.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),{children:"\u2022"})));var n=[];(b=a.properties)==null||b.forEach(function(a){var b=a[0];a=a[1];n.push(k.jsxs(d("WAWebFlex.react").FlexRow,{children:[k.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{children:[b,":\xa0"]}),k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:a})]}))});b=k.jsxs(d("WAWebFlex.react").FlexColumn,{children:[k.jsxs(d("WAWebFlex.react").FlexRow,{children:[i,m,l]}),n.length>0&&k.jsx(d("WAWebFlex.react").FlexColumn,{children:n})]});return k.jsx(c("WAWebCellFrame.react"),{image:g,customImage:!0,primary:f,secondary:b,theme:"order-product",onClick:e},a.id.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderProductList.react",["WAWebDrawerContext","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebOrderLogEvents","WAWebOrderProductListItem.react","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebUtilsLogQplEvents","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.onProductDetail,e=a.order,f=a.sellerJid,g=function(a){var b=e.orderItemCollection.toArray();d("WAWebOrderLogEvents").logOrderListImpression({catalogContext:a,catalogOwnerJid:f,orderId:e.id,productCount:b.length});return b.map(function(a){return{itemKey:a.id.toString(),product:a}})},h=function(c,e){c={businessOwnerJid:f,productId:c.product.id};d("WAWebUtilsLogQplEvents").qplStartProductView("Order");d("WAWebOrderLogEvents").logOrderListItemClick({catalogContext:e,catalogOwnerJid:f,orderId:a.order.id});b(c)};return i.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(b){var e=d("WAWebProductCatalogContext").getProductCatalogContext(b);return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(j,{testid:void 0,flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:g(e),renderItem:function(a){return i.jsx(c("WAWebOrderProductListItem.react"),{product:a.product,onClick:function(){return h(a,e)}})},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCartOrderDetailDrawer.react",["fbt","WAFilteredCatch","WALogger","WANullthrows","WAQplTypes","WAWebBackendErrors","WAWebBizEntryPoint","WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebClock","WAWebCmd","WAWebConfirmPopup.react","WAWebCurrencyUtils","WAWebDBUpdateMessageTable","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlatListController","WAWebModalManager","WAWebMsgCollection","WAWebMsgModel","WAWebOrderCollection","WAWebOrderDetailTextComposer","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderGetters","WAWebOrderProductList.react","WAWebProductCatalogFetchStateTopBar.react","WAWebProtobufsE2E.pb","WAWebSendTextMsgChatAction","WAWebText.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","WAWebWamEnumOrderDetailsCreationAction","WAWebWidFactory","react","stylex","useLazyRef"],(function(a,b,c,d,e,f,g,h){var i,j,k=["ref"],l,m,n;b=n||d("react");var o=l||(l=c("react")),p=b.useEffect,q=b.useState,r={defaultBg:{backgroundColor:"x1280gxy",$$css:!0}};function s(a){var b=a.chat,e=a.onChange,f=a.onSubmit;a=a.value;return o.jsx("div",babelHelpers["extends"]({},(m||(m=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert0,d("WAWebUISpacing").uiPadding.horiz18),{children:o.jsx(c("WAWebOrderDetailTextComposer"),{chat:b,onChange:e,onSubmit:f,value:a,placeholder:h._(/*BTDS*/"Add a cancellation note")})}))}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.onCreateOrderClick,e=a.onDeclineOrderClick;a.order;a=a.sellerJid;a=d("WAWebWidFactory").createUserWidOrThrow(a);a=d("WAWebUserPrefsMeUser").isMeUser(a);return!a?null:o.jsxs(o.Fragment,{children:[o.jsx(c("WAWebDrawerSection.react"),{children:o.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,color:"dark",onClick:b,children:h._(/*BTDS*/"Create order")})}),o.jsx(c("WAWebDrawerSection.react"),{children:o.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,color:"dark",onClick:e,children:h._(/*BTDS*/"Decline order")})})]})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.cancellationMessage,e=a.chat,f=a.fetchState,g=a.flatListController,i=a.isLoading,j=a.onOrderCancel,k=a.onOrderCreate,l=a.onProductDetail,n=a.order,p=a.ownerHasReviewed,q=a.sellerJid,u=a.sendCancelMessage;a=a.setCancellationMessage;if(i||n==null)return o.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:f});i="";n.products.length>0?i=h._(/*BTDS*/"_j{\"*\":\"{count} items\",\"_1\":\"1 item\"}",[h._plural(d("WAWebOrderGetters").getTotalItemCount(n)||0,"count")]):i=h._(/*BTDS*/"No items");i=o.jsx(d("WAWebText.react").WAWebTextTitle,{children:i});var v=null,w=n.products.reduce(function(a,b){return b.price==null?a:(a||0)+b.price*b.quantity},null),x=n.products.reduce(function(a,b){return b.currency==null?a:b.currency},null);w!=null&&x!=null?v=h._(/*BTDS*/"{subtotal} (estimated)",[h._param("subtotal",d("WAWebCurrencyUtils").formatAmount1000(x,w))]):v=h._(/*BTDS*/"No price entered");x=o.jsx(d("WAWebText.react").WAWebTextSmall,{as:"div",children:v});w=null;if(n.createdAt!=null){v=d("WAWebClock").Clock.timeStr(n.createdAt);w=o.jsx(d("WAWebText.react").WAWebTextSmall,{children:""+v})}return o.jsxs(o.Fragment,{children:[o.jsxs(c("WAWebDrawerSection.react"),{children:[o.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:f}),o.jsxs("div",babelHelpers["extends"]({},(m||(m=c("stylex"))).props(r.defaultBg,d("WAWebUISpacing").uiPadding.all18),{children:[i,x]})),o.jsx(c("WAWebOrderProductList.react"),{flatListController:g,onProductDetail:l,order:n,sellerJid:q}),o.jsx("div",babelHelpers["extends"]({},m.props(r.defaultBg,d("WAWebUISpacing").uiPadding.all18),{children:w})),p?o.jsx(s,{chat:e,value:b,onSubmit:u,onChange:a}):null]}),d("WAWebBizGatingUtils").orderDetailsFromCartEnabled()&&!p?o.jsx(t,{sellerJid:q,order:n,onCreateOrderClick:function(){return k(c("WANullthrows")(n))},onDeclineOrderClick:j}):null]})}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,k);var e=a.chat,f=a.onOrderCancel,g=a.onOrderCreate,l=a.onProductDetail,m=a.orderId,n=a.orderMessage,r=a.ownerHasReviewed,s=a.sellerJid,t=a.token;a=a.userIsCartOwner;var v=q(!0),w=v[0],x=v[1];v=q("PENDING");var y=v[0],z=v[1];v=q(null);var A=v[0],B=v[1];v=q("");var C=v[0];v=v[1];var D=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()}),E=function(){d("WAWebModalManager").ModalManager.open(o.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"The seller has deleted your sent cart. Contact the seller for more information.")}))};p(function(){d("WAWebOrderCollection").OrderCollection.findOrder(m,s,t).then(function(a){x(!1),z("SUCCESS"),B(a),d("WAWebUtilsLogQplEvents").qplAnnotateOrderView((a==null?void 0:a.products.length)||0),d("WAWebUtilsLogQplEvents").qplEndOrderView(d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){E(),x(!1),z("ERROR"),d("WAWebUtilsLogQplEvents").qplDropOrderView()}))["catch"](function(a){x(!1),z("ERROR"),d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Catalog Order Display failed"]))).verbose().devConsole(a).sendLogs("OrderDetails: failed to display"),d("WAWebUtilsLogQplEvents").qplEndOrderView(d("WAQplTypes").QuickLogActionType.FAIL)})},[]);var F=function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight()},G=function(){F();if(n!=null){var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a);a=d("WAWebBusinessProfileUtils").hasCatalog(a);new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({actionCategory:String(c("WAWebOrderDetailsActionCategory").RECEIVED_CART),hasCatalog:a,hasNote:Boolean(C),orderDetailEntryPoint:String(c("WAWebBizEntryPoint").FROM_CART),orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_DECLINE_CART}).commit();a=h._(/*BTDS*/"We have canceled your order.").toString()+"\n"+C;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["sendCancelMessage inside WAWebCartOrderDetailDrawer"])));d("WAWebSendTextMsgChatAction").sendTextMsgToChat(e,a,{quotedMsg:new(d("WAWebMsgModel").Msg)(n)});if(!d("WAWebBizGatingUtils").isSellerOrderRevampEnabled())return;if(n!=null){a={status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.DECLINED};void d("WAWebDBUpdateMessageTable").updateMessageTable(n.id,a);var b=d("WAWebMsgCollection").MsgCollection.get(n.id);b&&b.set(a)}}d("WAWebCmd").Cmd.openChatFromUnread(e)},H=d("WAWebBizGatingUtils").isBuyerOrderRequestVariantEnabled()?h._(/*BTDS*/"Your order request"):h._(/*BTDS*/"Your sent cart"),I=d("WAWebBizGatingUtils").isSellerOrderRevampEnabled()?h._(/*BTDS*/"Order request"):h._(/*BTDS*/"Received cart");return o.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"striped",onDrop:F,children:[o.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a?H:I,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:F}),o.jsx(c("WAWebDrawerBody.react"),{children:o.jsx(u,{cancellationMessage:C,chat:e,fetchState:y,flatListController:D.current,isLoading:w,onOrderCancel:f,onOrderCreate:g,onProductDetail:l,ownerHasReviewed:r,order:A,sellerJid:s,sendCancelMessage:G,setCancellationMessage:v})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLocalShippingIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="local-shipping";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=8;o=12;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m!=null?m:"0 0 12 8",height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 2H9.75C9.905 2 10.055 2.075 10.15 2.2L11.3 3.735C11.43 3.91 11.5 4.12 11.5 4.335V6C11.5 6.275 11.275 6.5 11 6.5H10.5C10.5 7.33 9.83 8 9 8C8.17 8 7.5 7.33 7.5 6.5H4.5C4.5 7.33 3.83 8 3 8C2.17 8 1.5 7.33 1.5 6.5C0.95 6.5 0.5 6.05 0.5 5.5V1C0.5 0.45 0.95 0 1.5 0H7.5C8.05 0 8.5 0.45 8.5 1V2ZM2.5 6.5C2.5 6.775 2.725 7 3 7C3.275 7 3.5 6.775 3.5 6.5C3.5 6.225 3.275 6 3 6C2.725 6 2.5 6.225 2.5 6.5ZM9.75 2.75L10.73 4H8.5V2.75H9.75ZM8.5 6.5C8.5 6.775 8.725 7 9 7C9.275 7 9.5 6.775 9.5 6.5C9.5 6.225 9.275 6 9 6C8.725 6 8.5 6.225 8.5 6.5Z",fill:"#667781"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.LocalShippingIcon=a}),98);
__d("WAWebOrderDetailStatusPill.react",["fbt","WAWebActionCheckCircleIcon.react","WAWebAlertErrorIcon.react","WAWebLocalShippingIcon.react","WAWebOrderStatus","WAWebStatusClockIcon.react","WAWebText.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={container:{alignItems:"x6s0dn4",backgroundColor:"x4wrhlh",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",display:"x3nfvp2",fontSize:"x1pg5gke",$$css:!0},currencyIcon:{backgroundColor:"xlo7ypk",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",color:"x1x3q85j",fontSize:"x1xloe0n",$$css:!0},iconCipherText:{marginTop:"xdhfreh",$$css:!0}};function m(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:return h._(/*BTDS*/"Pending");case d("WAWebOrderStatus").OrderStatus.Processing:return h._(/*BTDS*/"Processing");case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:return h._(/*BTDS*/"Partially shipped");case d("WAWebOrderStatus").OrderStatus.Shipped:return h._(/*BTDS*/"Shipped");case d("WAWebOrderStatus").OrderStatus.Canceled:return h._(/*BTDS*/"Canceled");case d("WAWebOrderStatus").OrderStatus.Complete:return h._(/*BTDS*/"Complete");case d("WAWebOrderStatus").OrderStatus.PreparingToShip:return h._(/*BTDS*/"Preparing to ship");case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return h._(/*BTDS*/"Payment requested");case d("WAWebOrderStatus").OrderStatus.Delivered:return h._(/*BTDS*/"Delivered");case d("WAWebOrderStatus").OrderStatus.Confirmed:return h._(/*BTDS*/"Confirmed");case d("WAWebOrderStatus").OrderStatus.Delayed:return h._(/*BTDS*/"Delayed");case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return h._(/*BTDS*/"Out for delivery");case d("WAWebOrderStatus").OrderStatus.Failed:return h._(/*BTDS*/"Failed");case d("WAWebOrderStatus").OrderStatus.Refunded:return h._(/*BTDS*/"Refunded")}}function n(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.Shipped:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Confirmed:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return;case d("WAWebOrderStatus").OrderStatus.Canceled:case d("WAWebOrderStatus").OrderStatus.Delayed:case d("WAWebOrderStatus").OrderStatus.Failed:return"critical";case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:case d("WAWebOrderStatus").OrderStatus.Refunded:return"success"}}function o(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.Delayed:return k.jsx(d("WAWebStatusClockIcon.react").StatusClockIcon,{width:12,displayInline:!0,xstyle:[d("WAWebUISpacing").uiMargin.end4,l.iconCipherText]});case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return k.jsx(p,{});case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.Shipped:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return k.jsx(d("WAWebLocalShippingIcon.react").LocalShippingIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4});case d("WAWebOrderStatus").OrderStatus.Canceled:case d("WAWebOrderStatus").OrderStatus.Failed:return k.jsx(d("WAWebAlertErrorIcon.react").AlertErrorIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4});case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:case d("WAWebOrderStatus").OrderStatus.Confirmed:case d("WAWebOrderStatus").OrderStatus.Refunded:return k.jsx(d("WAWebActionCheckCircleIcon.react").ActionCheckCircleIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4})}}function a(a){a=a.orderStatus;a=a===void 0?d("WAWebOrderStatus").getDefaultOrderStatus():a;return k.jsxs(d("WAWebText.react").WAWebTextSmall,{color:n(a),xstyle:[l.container,d("WAWebUISpacing").uiPadding.top8,d("WAWebUISpacing").uiPadding.bottom7,d("WAWebUISpacing").uiPadding.start8,d("WAWebUISpacing").uiPadding.end8],children:[o(a),m(a)]})}a.displayName=a.name+" [from "+f.id+"]";function p(){return k.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.all2,d("WAWebUISpacing").uiMargin.end3,l.currencyIcon),{children:"R$"}))}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebHooksUseCatalog",["WAWebCatalogCollection","asyncToGeneratorRuntime","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h;e=h||d("react");var i=e.useEffect,j=e.useState;function a(a){var e=j(function(){return d("WAWebCatalogCollection").CatalogCollection.get(a)}),f=e[0],g=e[1],h=c("useWAWebUnmountSignal")();i(function(){var c=d("WAWebCatalogCollection").CatalogCollection.get(a);c!==f&&(c!=null?g(c):b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("WAWebCatalogCollection").CatalogCollection.find(a));if(h.aborted)return;g(b)})())},[a,f,h]);return f}g["default"]=a}),98);
__d("WAWebUseOrderDetailItems",["Promise","WAWebCatalogCollection","WAWebHooksUseCatalog","WAWebOrderDetailMath","WAWebOrderItemModel","asyncToGeneratorRuntime","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect,l=e.useState;function a(a,e){var f=c("WAWebHooksUseCatalog")(e);e=l([]);var g=e[0],i=e[1];e=l(!0);var m=e[0],n=e[1],o=c("useWAWebUnmountSignal")(),p=j(function(){return f==null?new Map():f.productCollection.getProductModels().reduce(function(a,b){return a.set(b.id.toString(),(a=b.getPreviewImage())==null?void 0:a.mediaUrl)},new Map())},[f]),q=j(function(c){if(f==null)return(h||(h=b("Promise"))).resolve([]);var e=a.items.reduce(function(a,b){if(b.isCustomItem||c.get(b.id)!=null)return a;b=d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:f.id,productId:b.id});a.push(b);return a},[]);return(h||(h=b("Promise"))).all(e)},[f,a.items]),r=j(function(b,e){var f;return new(c("WAWebOrderItemModel"))(babelHelpers["extends"]({},b,{currency:a.currency,price:((f=b.amount)!=null?f:0)*d("WAWebOrderDetailMath").DEFAULT_OFFSET,thumbnailUrl:e.get(b.id)}))},[a.currency]),s=j(function(b){return a.items.map(function(a){return r(a,b)})},[a.items,r]);k(function(){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=p();n(!0);yield q(a);if(o.aborted)return;n(!1);a=p();i(s(a))})()},[f,o,q,p,s]);return{isLoading:m,orderItems:g}}g["default"]=a}),98);
__d("WAWebOrderDetailDrawerContainer.react",["fbt","WAWebBizFrontendGatingUtils","WAWebBizGatingUtils","WAWebBizSendOrderAction","WAWebBrazilPaymentsGeoGating","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCurrencyUtils","WAWebDetailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFlex.react","WAWebFlexItem.react","WAWebGetBrazilnteractiveActions","WAWebHooksUseOrderStatus","WAWebNoop","WAWebOrderDetailItems","WAWebOrderDetailMath","WAWebOrderDetailSectionContainer.react","WAWebOrderDetailSellerProfile.react","WAWebOrderDetailStatusPill.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderPaymentStatus","WAWebOrderStatus","WAWebOrderSummaryDrawer","WAWebOrdersExpansionCountries","WAWebSpinner.react","WAWebStatusClockIcon.react","WAWebText.react","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUseOrderDetailItems","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","WAWebWebIcCheckIcon.react","WDSIconWdsIcCurrencyReal.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k,l;b=l||d("react");var m=j||(j=c("react")),n=b.useEffect,o=b.useMemo,p={buttonWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},canceledIcon:{alignItems:"x6s0dn4",backgroundColor:"x4wrhlh",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",color:"x30a034",display:"x78zum5",height:"x90ne7k",justifyContent:"xl56j7k",marginInlineStart:"xwklpps",paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",width:"x1691je0",$$css:!0},checkIcon:{alignItems:"x6s0dn4",backgroundColor:"x1qe8gl4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",color:"x11askks",display:"x78zum5",height:"x10w6t97",justifyContent:"xl56j7k",marginInlineStart:"xdwrcjd",paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",width:"x1td3qas",$$css:!0},pendingIcon:{alignItems:"x6s0dn4",backgroundColor:"x4wrhlh",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",color:"xhslqc4",display:"x78zum5",height:"x90ne7k",justifyContent:"xl56j7k",marginInlineStart:"xwklpps",paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",width:"x1691je0",$$css:!0}};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,i);a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();var f=e.chat,g=e.orderInfo,j=e.sellerWid,k=g.referenceId,l=g.totalAmount,p=c("WAWebUseOrderDetailItems")(g,j),r=p.isLoading;p=p.orderItems;var s=o(function(){return d("WAWebOrderStatus").findOrderStatus(f,k)},[f,k]);n(function(){var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a)),orderDetailEntryPoint:String(e.entryPoint),orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.VIEW_ORDER_DETAILS}).commit()},[e.entryPoint]);var u=c("WAWebNoop"),v=p.length>0,w=function(){d("WAWebBizSendOrderAction").sendOrderPaymentMethodUpdate({chat:f,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,orderInfo:g,orderNote:null,orderStatus:s,paymentMethod:d("WAWebOrderPaymentStatus").OrderPaymentMethod.Confirm,paymentStatus:null,sellerJid:j.toJid()})["finally"](function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),u()})};return m.jsxs(c("WAWebDrawer.react"),{onDrop:e.onBack,ref:b,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:function(a){if((typeof a==="object"&&a!==null||typeof a==="function")&&a.containsOrder===!1)return h._(/*BTDS*/"Payment details");return(typeof a==="object"&&a!==null||typeof a==="function")&&a.containsOrder===!0&&a.optimizationEnabled===!0?h._(/*BTDS*/"Charge details"):h._(/*BTDS*/"Order details")}({containsOrder:v,optimizationEnabled:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()}),onBack:e.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),m.jsx(c("WAWebDrawerBody.react"),{theme:r?"center-content":void 0,children:r?m.jsx(t,{}):m.jsx(q,{containsOrder:v,chat:f,interactiveMessage:e.interactiveMessage,onOrderStatusUpdateClick:e.onOrderStatusUpdateClick,orderInfo:g,orderItems:p,orderStatus:s,sellerWid:j,sendConfirmOrderInfo:w,totalAmount:l,userWid:a})})]})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=a.chat,c=a.containsOrder,d=a.interactiveMessage,e=a.onOrderStatusUpdateClick,f=a.orderInfo,g=a.orderItems,h=a.orderStatus,i=a.sellerWid,j=a.sendConfirmOrderInfo,k=a.totalAmount;a=a.userWid;return c?m.jsx(r,{chat:b,interactiveMessage:d,onOrderStatusUpdateClick:e,orderInfo:f,orderItems:g,orderStatus:h,sellerWid:i,sendConfirmOrderInfo:j,totalAmount:k,userWid:a}):m.jsx(s,{chat:b,onOrderStatusUpdateClick:e,orderInfo:f,orderStatus:h,sellerWid:i,totalAmount:k,userWid:a})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.chat,e=a.interactiveMessage,f=a.onOrderStatusUpdateClick,g=a.orderInfo,i=a.orderItems,j=a.orderStatus,l=a.sellerWid,n=a.sendConfirmOrderInfo,o=a.totalAmount;a=a.userWid;var q=g.discount,r=g.shipping,s=g.subtotal,t=g.tax;return s==null?null:m.jsxs(m.Fragment,{children:[m.jsx(c("WAWebDrawerSection.react"),{xstyle:[d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiPadding.bottom15],children:m.jsxs(c("WAWebOrderDetailSectionContainer.react"),{children:[m.jsx(c("WAWebOrderDetailSellerProfile.react"),{testid:void 0,orderId:g.referenceId,sellerWid:l,orderStatus:m.jsx(c("WAWebOrderDetailStatusPill.react"),{orderStatus:j})}),m.jsx(c("WAWebOrderDetailItems"),{details:!0,currency:g.currency,items:i}),m.jsx(d("WAWebOrderSummaryDrawer").OrderValues,{tax:t!=null?t*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,discount:q!=null?q*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,shipping:r!=null?r*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,subtotal:s*d("WAWebOrderDetailMath").DEFAULT_OFFSET,currency:g.currency,canDisplayAdditionalCharges:!0}),m.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",xstyle:d("WAWebUISpacing").uiPadding.horiz16,testid:void 0,children:[m.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",children:h._(/*BTDS*/"Total")}),m.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",children:d("WAWebCurrencyUtils").formatAmount(g.currency,o)})]})]})}),a.user===l.user&&((t=(i=d("WAWebOrdersExpansionCountries").getOrdersExpansionAllowedCountries())==null?void 0:i.length)!=null?t:0)>0&&m.jsx(c("WAWebDrawerSection.react"),{children:m.jsxs(d("WAWebDrawerButton.react").DrawerButtonSimple,{icon:m.jsx(d("WAWebStatusClockIcon.react").StatusClockIcon,{width:20}),testid:void 0,color:"dark",disabled:!0,onClick:c("WAWebNoop"),children:[m.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{size:"16",children:h._(/*BTDS*/"Payment details")}),m.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{className:"x1pg5gke xk4td0m",children:h._(/*BTDS*/"To see payment details, open WhatsApp on your phone.")})]})}),[d("WAWebOrderStatus").OrderStatus.Canceled,d("WAWebOrderStatus").OrderStatus.Complete].every(function(a){return j!==a})&&a.user===l.user&&m.jsx(c("WAWebDrawerSection.react"),{children:m.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(p.buttonWrapper,d("WAWebUISpacing").uiMargin.vert16),{children:m.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:function(){f==null||f()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Update status"):h._(/*BTDS*/"Update order status")})}))}),a.user!==l.user&&j===d("WAWebOrderStatus").OrderStatus.Pending&&((r=(q=d("WAWebOrdersExpansionCountries").getConsumerOrdersExpansionAllowedCountries())==null?void 0:q.length)!=null?r:0)>0&&m.jsx(c("WAWebDrawerSection.react"),{children:m.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(p.buttonWrapper,d("WAWebUISpacing").uiMargin.vert16),{children:m.jsx(u,{sendConfirmOrderInfo:n,chat:b,orderInfo:g,interactiveMessage:e})}))})]})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.chat,e=a.onOrderStatusUpdateClick,f=a.orderInfo,g=a.orderStatus,i=a.sellerWid,j=a.totalAmount;a=a.userWid;var l=b.contact;l=l.verifiedName||l.name||l.id.user;j=d("WAWebCurrencyUtils").formatAmount1000ToParts(f.currency,j*1e3);b=d("WAWebHooksUseOrderStatus").useOrderPaymentStatus(b,f.referenceId);return m.jsxs(m.Fragment,{children:[m.jsxs(c("WAWebDrawerSection.react"),{xstyle:[d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiPadding.bottom15],children:[m.jsx(c("WAWebDrawerSection.react"),{testid:void 0,children:m.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf x1p5oq8j xwxc41k x2b8uid",children:m.jsx("span",babelHelpers["extends"]({},{0:{className:"x1heor9g x1weigxw x1s688f"},1:{className:"x18cpw0e x1weigxw x1s688f xmqliwb x13zicib xudwaec"}}[!!(g===d("WAWebOrderStatus").OrderStatus.Canceled)<<0],{children:j.symbol+" "+j.integer+j.decimal}))})}),m.jsx(c("WAWebDrawerSection.react"),{children:b===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured&&m.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np x1mfogq2 xz9dl7a",children:[m.jsx(d("WAWebWebIcCheckIcon.react").WebIcCheckIcon,{iconXstyle:p.checkIcon}),m.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf",children:[m.jsx("span",{className:"xo1mcw5 x1f6kntn xk50ysn x1onr9mi",children:h._(/*BTDS*/"Completed")}),m.jsx("span",{className:"x1f6kntn xo1l8bm x1onr9mi x123j3cw",children:h._(/*BTDS*/"Payment sent")})]})]})}),m.jsx(c("WAWebDrawerSection.react"),{children:b===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Failed&&m.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np x1mfogq2 xz9dl7a",children:[m.jsx(c("WDSIconWdsIcCurrencyReal.react"),{width:46,height:46,iconXstyle:p.canceledIcon}),m.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf",children:[m.jsx("span",{className:"x30a034 x1f6kntn xk50ysn x1onr9mi",children:h._(/*BTDS*/"Failed")}),m.jsx("span",{className:"x1f6kntn xo1l8bm x1onr9mi x123j3cw",children:h._(/*BTDS*/"Payment was not sent")})]})]})}),m.jsx(c("WAWebDrawerSection.react"),{children:b===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Pending&&m.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np x1mfogq2 xz9dl7a",children:[m.jsx(c("WDSIconWdsIcCurrencyReal.react"),{width:46,height:46,iconXstyle:p.pendingIcon}),m.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf",children:[m.jsx("span",{className:"xhslqc4 x1f6kntn xk50ysn x1onr9mi",children:h._(/*BTDS*/"Pending")}),m.jsx("span",{className:"x1f6kntn xo1l8bm x1onr9mi x123j3cw",children:h._(/*BTDS*/"Processing payment")})]})]})}),m.jsx(c("WAWebDrawerSection.react"),{children:m.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np x1mfogq2 xz9dl7a",children:[m.jsx(d("WAWebDetailImage.react").DetailImage,{id:i,size:48}),m.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf",children:[g===d("WAWebOrderStatus").OrderStatus.Complete?m.jsx("span",{className:"xhslqc4 x1f6kntn xo1l8bm x1onr9mi",children:h._(/*BTDS*/"Sent to")}):m.jsx("span",{className:"xhslqc4 x1f6kntn xo1l8bm x1onr9mi",children:h._(/*BTDS*/"Send to")}),m.jsx("span",{className:"x1f6kntn xo1l8bm x1onr9mi x123j3cw",children:h._(/*BTDS*/"{merchant-name}",[h._param("merchant-name",l)])})]})]})})]}),a.user===i.user&&((j=(f=d("WAWebOrdersExpansionCountries").getOrdersExpansionAllowedCountries())==null?void 0:f.length)!=null?j:0)>0&&m.jsx(c("WAWebDrawerSection.react"),{children:m.jsxs(d("WAWebDrawerButton.react").DrawerButtonSimple,{icon:m.jsx(d("WAWebStatusClockIcon.react").StatusClockIcon,{width:20}),testid:void 0,color:"dark",disabled:!0,onClick:c("WAWebNoop"),children:[m.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{size:"16",children:h._(/*BTDS*/"Payment details")}),m.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{className:"x1pg5gke xk4td0m",children:h._(/*BTDS*/"To see payment details, open WhatsApp on your phone.")})]})}),[d("WAWebOrderStatus").OrderStatus.Canceled,d("WAWebOrderStatus").OrderStatus.Complete].every(function(a){return g!==a})&&a.user===i.user&&m.jsx(c("WAWebDrawerSection.react"),{children:m.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(p.buttonWrapper,d("WAWebUISpacing").uiMargin.vert16),{children:m.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:function(){e==null||e()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Update status"):h._(/*BTDS*/"Update order status")})}))})]})}s.displayName=s.name+" [from "+f.id+"]";function t(){return m.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",testid:void 0,children:m.jsx(c("WAWebFlexItem.react"),{children:m.jsx(d("WAWebSpinner.react").Spinner,{})})})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.chat,c=a.interactiveMessage,e=a.orderInfo;a=a.sendConfirmOrderInfo;b=v(b,c,e);c=b==null?void 0:b.Icon;return b?m.jsxs(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:b.onClick,children:[c&&m.jsx(c,{}),b.label]}):m.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:a,children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Confirm info"):h._(/*BTDS*/"Confirm order info")})}u.displayName=u.name+" [from "+f.id+"]";function v(a,b,c){if(b==null)return null;var e=[];d("WAWebBizFrontendGatingUtils").isAPICopyPixCTAEnabled()&&d("WAWebGetBrazilnteractiveActions").hasValidDynamicPix(c)&&e.push(d("WAWebGetBrazilnteractiveActions").getCopyPixCodeInteractiveAction(c,b));d("WAWebBrazilPaymentsGeoGating").isPaymentLinkEnabled(a)&&d("WAWebGetBrazilnteractiveActions").hasValidPaymentLink(c)&&e.push(d("WAWebGetBrazilnteractiveActions").getOpenPaymentLinkInteractiveAction(c,b));d("WAWebBrazilPaymentsGeoGating").isBoletoEnabled(a)&&d("WAWebGetBrazilnteractiveActions").hasValidBoletoCode(c)&&e.push(d("WAWebGetBrazilnteractiveActions").getCopyBoletoCodeInteractiveAction(c,b));return e.length>=1?e[0]:null}g["default"]=a}),226);
__d("WAWebOrderDetailProductListItem",["fbt","WAWebCellFrame.react","WAWebCurrencyUtils","WAWebEmojiText.react","WAWebOrderIcons","WAWebText_DONOTUSE.react","isNonZeroNumber","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b;a=a.product;var e=j.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.name,ellipsify:!0,titlify:!0});b=j.jsx(d("WAWebOrderIcons").OrderItemIcon,{useCustomIcon:Boolean(a.mediaData)===!1,mediaData:(b=a.mediaData)!=null?b:null});var f=null;if(a.quantity){var g=h._(/*BTDS*/"Qty {quantity}",[h._param("quantity",a.quantity.toString())]);f=j.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:g})}g=null;d("isNonZeroNumber").isNonZeroNumber(a.price)?g=d("WAWebCurrencyUtils").formatAmount1000(a.currency,a.price):g=h._(/*BTDS*/"Ask for price");a=j.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:g});return j.jsx(c("WAWebCellFrame.react"),{image:b,customImage:!0,primary:e,secondary:f,detail:a,theme:"media"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailProductList",["WAWebFlatList.react","WAWebFlatListContainer.react","WAWebOrderDetailProductListItem","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=60,k=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.productItems;b=b.map(function(a){return{itemKey:a.id.toString(),product:a}});return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(k,{testid:void 0,flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:b,renderItem:function(a){a=a.product;return i.jsx(c("WAWebOrderDetailProductListItem"),{product:a})},defaultItemHeight:j})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderDetailProductListDrawer.react",["fbt","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlatListController","WAWebOrderDetailProductList","WAWebUISpacing","react","useLazyRef"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k=j||c("react");function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.productItems,f=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()});return k.jsxs(c("WAWebDrawer.react"),{onDrop:a.onBack,ref:b,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"Items"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),k.jsx(c("WAWebDrawerBody.react"),{flatListControllers:[f.current],children:k.jsx(c("WAWebDrawerSection.react"),{xstyle:[d("WAWebUISpacing").uiPadding.vert10,d("WAWebUISpacing").uiPadding.end3,d("WAWebUISpacing").uiPadding.start16],theme:"refresh-padding-title",children:k.jsx(c("WAWebOrderDetailProductList"),{flatListController:f.current,productItems:e})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogProductDetailsWithDeepLink.react",["fbt","WAFilteredCatch","WANullthrows","WAWebBackendErrors","WAWebCatalogCollection","WAWebConfirmPopup.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFbtCommon","WAWebModalManager","WAWebProductCatalogFetchState","WAWebProductCatalogFetchStateTopBar.react","WAWebProductCatalogGetLatestProduct","WAWebProductCatalogProductDetailsDrawer.react","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g,h){var i=["ref"],j,k;b=k||d("react");var l=j||(j=c("react")),m=b.useEffect,n=b.useState;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var e=a.productInfo,f=e.productId,g=e.businessOwnerJid,j=a.onBack;e=n(function(){return c("WAWebProductCatalogGetLatestProduct")({productId:f,businessOwnerJid:g})});var k=e[0],o=e[1];e=n(function(){return k?"NONE":"PENDING"});var p=e[0],q=e[1],r=function(){j(),d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"This product or service has been removed")}))},s=function(){var a=d("WAWebWidFactory").createWid(g);d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:a,productId:f}).then(function(){var b=d("WAWebCatalogCollection").CatalogCollection.get(a);o(c("WANullthrows")(b).productCollection.get(f));q("SUCCESS")})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){r(),q("ERROR")}))["catch"](function(a){d("WAWebProductCatalogFetchState").parseErrorState(a,function(a){q(a)})})};m(function(){k||s()},[]);return k?l.jsx(c("WAWebProductCatalogProductDetailsDrawer.react"),{ref:b,chat:a.chat,product:k,onEnd:a.onEnd,onBack:a.onBack,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalog,refreshCarousel:!0,onProductLinkClick:a.onProductLinkClick,onProductMoreInformation:a.onProductMoreInformation,onCartClick:a.onCartClick}):l.jsxs(c("WAWebDrawer.react"),{ref:b,onDrop:a.onBack,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,title:h._(/*BTDS*/"Details"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:p})})]},"product-details-drawer")}a.displayName=a.name+" [from "+f.id+"]";g.ProductDetailsWithDeepLink=a}),226);
__d("WAWebProductCatalogProductMessageListNoProductModal",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebFbtCommon","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){a=a.onConfirm;return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:a,okText:c("WAWebFbtCommon")("OK"),children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:h._(/*BTDS*/"Items in this message are no longer available")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogProductMessageList.react",["WAWebDrawerContext","WAWebDrawerManager","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebModalManager","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebProductCatalogListItem.react","WAWebProductCatalogLogEvents","WAWebProductCatalogProductMessageListNoProductModal","WAWebSectionHeader.react","WAWebStateUtils","WAWebUISpacing","WAWebUtilsLogQplEvents","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useCallback,m=b.useEffect,n={list:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},o=d("WAWebFlatList.react").FlatListFactory();function p(a){var b=a.item,e=a.onProductDetail,f=l(function(a,b){d("WAWebProductCatalogLogEvents").logCatalogListDetailClick({product:d("WAWebStateUtils").unproxy(a),catalogContext:b});d("WAWebUtilsLogQplEvents").qplStartProductView("PLM");return e(a)},[e]);a=null;switch(b.type){case"section":var g=b.label;a=k.jsx(c("WAWebSectionHeader.react"),{header:g});break;case"product":var h=b.product;a=k.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(a){return k.jsx(c("WAWebProductCatalogListItem.react"),{product:h,onClick:function(){return f(h,d("WAWebProductCatalogContext").getProductCatalogContext(a))},canManageCatalog:!1})}});break}return a}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.flatListController,e=a.onProductDetail;a=a.productMessageList;var f=a.productCollection.getProductModels(),g=a.getSections(),h=a.getSectionsCount()>0,j=a.getTotalProductsFetchedOrFailed();a=a.getProductSize();var l=a===j&&f.length===0,q=[];g.forEach(function(a,b){var c=a.title;a=a.products;var e=[];a.forEach(function(a){var c=a.productId;a=f.find(function(a){return a.id===c});a!=null&&e.push({itemKey:"section-"+b+"-"+a.id.toString(),product:a,type:"product",height:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT})});e.length>0&&(c!=null&&c!==""&&q.push({itemKey:"header-"+b+"-"+c,label:c,type:"section",height:72}),q.push.apply(q,e))});m(function(){l&&d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebProductCatalogProductMessageListNoProductModal"),{onConfirm:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),d("WAWebModalManager").ModalManager.close()}}))},[l]);return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.list,d("WAWebUISpacing").uiPadding.bottom8,!h&&d("WAWebUISpacing").uiMargin.top8),{children:k.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[b],children:k.jsx(o,{flatListController:b,direction:"vertical",forceConsistentRenderCount:!1,data:q,renderItem:function(a){return k.jsx(p,{item:a,onProductDetail:e})},itemEnterAnimationsEnabled:!0})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductMessageListDrawer.react",["WAQplTypes","WATypeUtils","WAWebCartCollection","WAWebCommonCartIconMenuBarItem.react","WAWebContactGetters","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebFlatListController","WAWebFlatListLoadingSpinnerItem.react","WAWebFrontendConstants","WAWebProductCatalogCatalogConstants","WAWebProductCatalogCheckCartEnabled","WAWebProductCatalogContext","WAWebProductCatalogFetchState","WAWebProductCatalogFetchStateTopBar.react","WAWebProductCatalogLogEvents","WAWebProductCatalogProductMessageList.react","WAWebProductMessageListCollection","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","useLazyRef","useWAWebContactValues","useWAWebListener","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h=["ref"],i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useContext,m=e.useEffect,n=e.useState;function o(a){var b=a.loadingMore,d=a.onProductDetail,e=a.productListFlatListControllerRef,f=a.productMessageList;a=a.productMessageListFetchState;return!f?k.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:a}):k.jsxs("div",{children:[k.jsx(c("WAWebProductCatalogProductMessageList.react"),{productMessageList:f,flatListController:e.current,onProductDetail:d}),b&&k.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var f=a.productListId,g=a.setScrollOffset,i=a.onCartClick,j=a.onProductDetail,p=a.catalogWid,q=c("useWAWebUnmountSignal")(),r=l(d("WAWebDrawerContext").DrawerContext),s=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()}),t=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebContactGetters").getId]),u=t[0];t=n(!1);var v=t[0],w=t[1];t=n(0);var x=t[0],y=t[1];t=n(!1);var z=t[0],A=t[1];t=n(function(){return d("WAWebProductMessageListCollection").ProductMessageListCollection.get(f)});var B=t[0],C=t[1];t=n(function(){return d("WAWebCartCollection").CartCollection.findCart(u.toString())});var D=t[0];t=n(D.itemCount);var E=t[0],F=t[1];t=n(!1);var G=t[0],H=t[1];t=n(B?"SUCCESS":"NONE");var I=t[0],J=t[1],K=function(a){var b=a===!0;a=d("WAWebProductMessageListCollection").ProductMessageListCollection.assertGet(f);var c=a.getTotalProductsFetchedOrFailed();a=a.getProductSize();if(z||c===a){b&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{"int":{ProductsCount:c}}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS));A(!0);return}w(!0);y(c);a=b?d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW:void 0;d("WAWebProductMessageListCollection").ProductMessageListCollection.update(f,{markerId:a}).then(function(a){if(q.aborted){b&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW);return}w(!1);a=Array.isArray(a)?a[0]:a;a=a.getTotalProductsFetchedOrFailed();a===x&&A(!0);b&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{"int":{ProductsCount:a}}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS));c*d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&K()})["catch"](function(){w(!1),A(!0),b&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.FAIL)})},L=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WAWebProductMessageListCollection").ProductMessageListCollection.find(f));if(q.aborted){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW);return}C(a);J("SUCCESS");K(!0)}catch(a){d("WAWebProductCatalogFetchState").parseErrorState(a,function(a){return J(a)}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.FAIL)}});return function(){return a.apply(this,arguments)}}();m(function(){B?K():L(),c("WAWebProductCatalogCheckCartEnabled")(u).then(function(a){if(q.aborted)return;H(a);d("WAWebProductCatalogLogEvents").logCatalogListView({catalogOwnerWid:p,catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(r),cartToggle:a})})},[]);d("useWAWebListener").useListener(D,"all",function(){F(D.itemCount)});var M=function(a){if(v)return;a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight&&K()};t=function(a){M(a.currentTarget),g==null||g(a.currentTarget.scrollTop)};var N=function(){d("WAWebUtilsLogQplEvents").qplStartCartView("PLM"),i==null||i(u.toString())};G=i!=null&&G?k.jsx(d("WAWebCommonCartIconMenuBarItem.react").CartIconMenuBarItem,{cartCountText:d("WATypeUtils").isNumber(E)&&E>0?E.toString():void 0,onClick:N,catalogOwnerJid:u.toString()}):null;return k.jsxs(c("WAWebDrawer.react"),{ref:e,theme:"products",onDrop:a.onBack,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:k.jsx("div",{className:"x78zum5",children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:B==null?void 0:B.title,ellipsify:!0})}),titleStr:B==null?void 0:B.title,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:a.onBack,menu:G}),k.jsx(c("WAWebDrawerBody.react"),{onScroll:t,flatListControllers:[s.current],scrollOffset:a.scrollOffset,children:k.jsx(o,{productMessageList:B,loadingMore:v,productMessageListFetchState:I,onProductDetail:j,productListFlatListControllerRef:s})})]})}a.displayName=a.name+" [from "+f.id+"]";a.displayName="ProductMessageListDrawer";g.ProductMessageListDrawer=a}),98);
__d("WAWebBizProductDetailsFlow.react",["fbt","$InternalEnum","WANullthrows","WATimeUtils","WAWebBizEntryPoint","WAWebBizGatingUtils","WAWebBizLinkedCatalogErrorPopup.react","WAWebBizShowCartAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCartOrderDetailDrawer.react","WAWebChatThreadLogging","WAWebConfirmPopup.react","WAWebContactCollection","WAWebDBUpdateMessageTable","WAWebDrawerContext","WAWebFbtCommon","WAWebLidMigrationUtils","WAWebModalManager","WAWebMsgCollection","WAWebOrderCollection","WAWebOrderCreationFlowLoadable","WAWebOrderDetailDrawerContainer.react","WAWebOrderDetailProductListDrawer.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderStatusUpdateDrawer.react","WAWebOrdersExpansionUtils","WAWebProductCatalogCatalogLinkDrawer.react","WAWebProductCatalogContext","WAWebProductCatalogLogEvents","WAWebProductCatalogProductDetailsDrawer.react","WAWebProductCatalogProductDetailsWithDeepLink.react","WAWebProductCatalogProductLinkDrawer.react","WAWebProductCatalogProductListDrawer.react","WAWebProductCatalogProductMessageListDrawer.react","WAWebProductCatalogProductMoreInformationDrawer.react","WAWebProductCollectionCatalogViewDrawer.react","WAWebProductCollectionCollectionContentDrawer.react","WAWebProtobufsE2E.pb","WAWebSmbDataSharingOptInModalDialog","WAWebToast.react","WAWebToastManager","WAWebUim","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","WAWebWamEnumSmbDataSharingConsentScreenEntryPoint","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","err","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var aa=["ref"],i,j;a=j||d("react");var k=i||(i=c("react")),ba=a.useContext,l=a.useEffect,m=a.useState,ca=function(a){if(!d("WAWebBizGatingUtils").isSellerOrderRevampEnabled())return;if(a!=null){var b={status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.ACCEPTED};void d("WAWebDBUpdateMessageTable").updateMessageTable(a.id,b);a=d("WAWebMsgCollection").MsgCollection.get(a.id);a&&a.set(b)}},n=b("$InternalEnum").Mirrored(["Cart","CartOrderDetail","CatalogCollection","CatalogLink","CatalogView","OrderCreation","OrderDetail","OrderDetailProductList","OrderStatusUpdate","ProductDetails","ProductDetailsFlow","ProductDetailsWithDeepLink","ProductLink","ProductList","ProductMessageList","ProductMoreInformation"]);function o(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,aa);var f=a.catalogOwnerJid,g=a.chat,i=a.collection,j=a.collectionId,p=a.entryPoint,da=a.isAllItems,q=a.onEnd,r=a.orderId,s=a.orderInfo,t=a.orderMessage,u=a.product,v=a.productInfo,w=a.productListId,ea=a.refreshCarousel,x=a.sellerJid,y=a.token,z=a.userIsCartOwner;q=d("useWAWebFlow").useFlow(void 0,{onEnd:q});var fa=q[0],A=q[1];q=m();var B=q[0],C=q[1];q=m();var D=q[0],E=q[1];q=m();var F=q[0],G=q[1];q=m();var ga=q[0],ha=q[1];q=m();var ia=q[0],ja=q[1];q=m();var ka=q[0],la=q[1];q=m();var H=q[0],ma=q[1];q=m();var I=q[0],na=q[1];q=m();var J=q[0],oa=q[1];q=m();var pa=q[0],qa=q[1];q=m();var ra=q[0],sa=q[1];q=m();var ta=q[0],ua=q[1];q=m();var K=q[0],L=q[1];q=m();var M=q[0],va=q[1];q=m(0);var N=q[0];q=q[1];var O=ba(d("WAWebDrawerContext").DrawerContext),wa=function(a){var b=d("WAWebContactCollection").ContactCollection.gadd(a);L(b);C(a);A.push(n.CatalogCollection)},xa=function(a,b){var c=d("WAWebContactCollection").ContactCollection.gadd(b);L(c);C(b);ja(a);A.push(n.ProductMessageList)},P=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebContactCollection").ContactCollection.gadd(a),c=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(a));L(b);C(a);E(c);d("WAWebBusinessProfileUtils").hasCatalog(c)?A.push(n.CatalogView):A.push(n.ProductList)});return function(b){return a.apply(this,arguments)}}(),Q=function(a,b){a=a.id.equals(d("WAWebUserPrefsMeUser").getMaybeMePnUser());d("WAWebBizLinkedCatalogErrorPopup.react").showConnectedCatalogDisabledPopup(b,a,function(){A.end()})},R=function(b,a){G(b),ma(a),A.push(n.ProductDetails)},S=function(a){ha(a),A.push(n.ProductDetailsWithDeepLink)},T=function(a,b){b===void 0&&(b=null);var e=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({actionCategory:String(c("WAWebOrderDetailsActionCategory").RECEIVED_CART),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(e)),orderDetailEntryPoint:String(p!=null?p:c("WAWebBizEntryPoint").FROM_CART),orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_CREATE_ORDER_DETAILS_FROM_CART}).commit();e=function(){oa(a),qa(function(){return b}),A.push(n.OrderCreation)};c("WAWebSmbDataSharingOptInModalDialog").maybeShowOrderDataSharingDialog(g,e,d("WAWebWamEnumSmbDataSharingConsentScreenEntryPoint").SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.CART)},ya=function(){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{action:{actionText:c("WAWebFbtCommon")("OK"),dismiss:!0},msg:h._(/*BTDS*/"Something went wrong. Please try again."),id:d("WAWebToast.react").genId()}))},za=function(a){sa(a),A.push(n.CartOrderDetail)},Aa=function(){A.push(n.OrderDetail)};l(function(){d("WAWebBizGatingUtils").commerceThreadsLoggingEnabled()&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"isCommerceViewed",chatId:g.id,ts:d("WATimeUtils").unixTime()}])},[]);l(function(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(a));E(a)});return function(b){return a.apply(this,arguments)}}();if(f!=null){if(D==null){void a(d("WAWebWidFactory").createWid(f));return}if((D==null?void 0:D.isCatalogDisabledDueToMetaLinking)===!0){Q(D,!1);return}i!=null||da===!0?wa(d("WAWebWidFactory").createWid(f)):w!=null?xa(w,d("WAWebWidFactory").createWid(f)):void P(d("WAWebWidFactory").createWid(f))}else if(u){if(D==null){void a(u.catalogWid);return}if((D==null?void 0:D.isCatalogDisabledDueToMetaLinking)===!0){Q(D,!0);return}R(u,j)}else if(v){if(D==null){void a(d("WAWebWidFactory").createWid(v.businessOwnerJid));return}if(D!=null&&D.isCatalogDisabledDueToMetaLinking){Q(D,!0);return}S(v)}else if(r!=null){if(y!=null&&x!=null&&z!=null){a=c("WAWebWid").equals.apply(c("WAWebWid"),d("WAWebLidMigrationUtils").toCommonAddressingMode(d("WAWebWidFactory").createUserWidOrThrow(x),d("WAWebUserPrefsMeUser").getMaybeMePnUser()));if(a&&d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled())d("WAWebOrderCollection").OrderCollection.findOrder(r,x,y).then(function(a){T(c("WANullthrows")(a),Fa)})["catch"](function(){ya()});else{a=!1;za(a)}}}else if(s!=null&&x!=null)Aa();else throw c("err")("ProductDetailsFlow:no-product")},[D]);var Ba=function(a){na(a),A.push(n.ProductDetailsFlow)},Ca=function(a){la(a),A.push(n.OrderDetailProductList)},Da=function(){var a=d("WAWebUserPrefsMeUser").getMePnUserOrThrow();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a)),orderDetailEntryPoint:String(p),orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_UPDATE_ORDER_STATUS}).commit();s!=null&&x!=null&&A.push(n.OrderStatusUpdate)},Ea=function(){if(r!=null&&y!=null&&x!=null&&z!=null){var a=!0;za(a)}d("WAWebModalManager").ModalManager.close()},Fa=function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onCancel:function(){d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"Do not decline"),onOK:Ea,okText:h._(/*BTDS*/"Decline"),title:h._(/*BTDS*/"Decline this order?"),children:h._(/*BTDS*/"You can include a note with the cancellation message.")}))},U=function(b,a){void R(b,a)},Ga=function(a){G(a),A.push(n.ProductMoreInformation)},Ha=function(a){S(a)},Ia=function(a,b){d("WAWebProductCatalogLogEvents").logCarouselViewMoreClick({catalogContext:b,catalogOwnerWid:a}),void P(a)},Ja=function(a){G(a),A.push(n.ProductLink)},V=function(a,b){ua(a),L(b),A.push(n.CatalogLink)},W=function(a){var b=d("WAWebProductCatalogContext").getProductCatalogContext(O);b=c("WAWebBizShowCartAction")(a,g,b);b&&(va(a),A.push(n.Cart))},X=function(){A.pop()},Y=function(){A.end(d("WAWebUim").DismissReason.LIFECYCLE)};if(A.step==null)return null;var Z;switch(A.step){case n.Cart:var $=d("WAWebProductCatalogContext").getProductCatalogContext(O);M=c("WAWebBizShowCartAction")(c("WANullthrows")(M),g,$);Z=c("WANullthrows")(M);break;case n.CartOrderDetail:Z=k.jsx(c("WAWebCartOrderDetailDrawer.react"),{orderId:c("WANullthrows")(r),token:c("WANullthrows")(y),sellerJid:c("WANullthrows")(x),userIsCartOwner:c("WANullthrows")(z),onProductDetail:Ha,onOrderCreate:T,onOrderCancel:Fa,ownerHasReviewed:Boolean(ra),orderMessage:t,chat:g});break;case n.CatalogCollection:Z=k.jsx(d("WAWebProductCollectionCollectionContentDrawer.react").CollectionContentDrawer,{contact:c("WANullthrows")(K),onProductDetail:U,catalogId:c("WANullthrows")(B),onBack:X,onCatalogLinkClick:V,onCartClick:W,scrollOffset:N,setScrollOffset:q,collection:i});break;case n.CatalogLink:Z=k.jsx(c("WAWebProductCatalogCatalogLinkDrawer.react"),{catalog:c("WANullthrows")(ta),contact:c("WANullthrows")(K),onBack:X});break;case n.CatalogView:Z=k.jsx(c("WAWebProductCollectionCatalogViewDrawer.react"),{contact:c("WANullthrows")(K),onProductDetail:U,catalogId:c("WANullthrows")(B),onBack:X,businessProfile:D,scrollOffset:N,setScrollOffset:q,onCatalogLinkClick:V,onCartClick:W,onCollectionSeeAll:Ba});break;case n.OrderCreation:Z=k.jsx(c("WAWebOrderCreationFlowLoadable"),{entryPoint:p!=null?p:c("WAWebBizEntryPoint").FROM_CART,onBack:X,order:J!=null?J:void 0,chat:g,onDeclineOrder:pa,onSend:function(){return ca(t)}});break;case n.OrderDetail:Z=k.jsx(c("WAWebOrderDetailDrawerContainer.react"),{entryPoint:p,onBack:X,orderInfo:c("WANullthrows")(s),sellerWid:d("WAWebWidFactory").createWid(c("WANullthrows")(x)),chat:g,onProductSummaryClick:Ca,onOrderStatusUpdateClick:Da,interactiveMessage:a.interactiveMessage});break;case n.OrderDetailProductList:Z=k.jsx(c("WAWebOrderDetailProductListDrawer.react"),{onBack:X,productItems:c("WANullthrows")(ka)});break;case n.OrderStatusUpdate:Z=k.jsx(c("WAWebOrderStatusUpdateDrawer.react"),{entryPoint:p,chat:g,onBack:X,orderInfo:c("WANullthrows")(s),sellerJid:c("WANullthrows")(x)});break;case n.ProductDetails:Z=k.jsx(c("WAWebProductCatalogProductDetailsDrawer.react"),{chat:g,product:c("WANullthrows")(F),onEnd:Y,onBack:X,onProductDetail:U,onProductCatalog:Ia,onProductLinkClick:Ja,onProductMoreInformation:Ga,refreshCarousel:ea,onCartClick:W,collectionId:H!=null?H:void 0});break;case n.ProductDetailsFlow:Z=k.jsx(o,{chat:g,catalogOwnerJid:(M=($=f!=null?f:u==null?void 0:u.catalogWid.toString())!=null?$:v==null?void 0:v.businessOwnerJid)!=null?M:x,collection:I!=null?I:void 0,isAllItems:!I,interactiveMessage:a.interactiveMessage});break;case n.ProductDetailsWithDeepLink:Z=k.jsx(d("WAWebProductCatalogProductDetailsWithDeepLink.react").ProductDetailsWithDeepLink,{chat:g,productInfo:c("WANullthrows")(ga),onEnd:Y,onBack:X,onProductDetail:U,onProductCatalog:Ia,onProductLinkClick:Ja,onProductMoreInformation:Ga,onCartClick:W});break;case n.ProductLink:Z=k.jsx(c("WAWebProductCatalogProductLinkDrawer.react"),{product:c("WANullthrows")(F),onBack:X});break;case n.ProductList:Z=k.jsx(d("WAWebProductCatalogProductListDrawer.react").ProductListDrawer,{contact:c("WANullthrows")(K),onProductDetail:U,catalogId:c("WANullthrows")(B),onBack:X,businessProfile:D,setScrollOffset:q,onCatalogLinkClick:V,onCartClick:W});break;case n.ProductMessageList:Z=k.jsx(d("WAWebProductCatalogProductMessageListDrawer.react").ProductMessageListDrawer,{contact:c("WANullthrows")(K),productListId:c("WANullthrows")(ia),onProductDetail:U,onCartClick:W,onBack:X,onEnd:Y,setScrollOffset:q,catalogWid:c("WANullthrows")(B)});break;case n.ProductMoreInformation:Z=k.jsx(c("WAWebProductCatalogProductMoreInformationDrawer.react"),{product:c("WANullthrows")(F),onBack:X});break}return k.jsx(fa,{ref:e,flow:A,displayName:"ProductDetailsFlow",children:Z})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=o}),226);